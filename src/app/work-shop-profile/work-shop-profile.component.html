<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">

      <!-- عرض المعلومات -->
      <div *ngIf="!isEditing">
        <div class="card">
          <div class="card-header">
            <h2>{{ owner.workshopName }}</h2>
          </div>
          <div class="card-body text-center">
            <img [src]="owner.avatarUrl" alt="Owner Avatar" class="rounded-circle mb-3" width="150">
            <p><strong>Owner Name:</strong> {{ owner.name }}</p>
            <p><strong>Email:</strong> {{ owner.email }}</p>
            <p><strong>Phone:</strong> {{ owner.phoneNumber }}</p>
            <p *ngIf="owner.address"><strong>Address:</strong> {{ owner.address }}</p>
            <p><strong>License Number:</strong> {{ owner.licenseNumber }}</p>
            <button class="btn btn-primary" (click)="enableEditing()">Edit</button>
          </div>
        </div>
      </div>

      <!-- نموذج التعديل -->
      <div *ngIf="isEditing">
        <form>
          <div class="form-group">
            <label for="name">Owner Name:</label>
            <input id="name" class="form-control" [(ngModel)]="owner.name" name="name" required maxlength="50" pattern="^[a-zA-Z ]+$">
          </div>

          <div class="form-group">
            <label for="email">Email:</label>
            <input id="email" type="email" class="form-control" [(ngModel)]="owner.email" name="email" required>
          </div>

          <div class="form-group">
            <label for="phone">Phone Number:</label>
            <input id="phone" class="form-control" [(ngModel)]="owner.phoneNumber" name="phoneNumber" required pattern="^[0-9-]+$">
          </div>

          <div class="form-group">
            <label for="address">Address (optional):</label>
            <input id="address" class="form-control" [(ngModel)]="owner.address" name="address" maxlength="100">
          </div>

          <div class="form-group">
            <label for="workshopName">Workshop Name:</label>
            <input id="workshopName" class="form-control" [(ngModel)]="owner.workshopName" name="workshopName" required maxlength="50" pattern="^[a-zA-Z0-9 ]+$">
          </div>

          <div class="form-group">
            <label for="licenseNumber">License Number:</label>
            <input id="licenseNumber" class="form-control" [(ngModel)]="owner.licenseNumber" name="licenseNumber" required pattern="^[a-zA-Z0-9]{10}$">
          </div>

          <!-- رفع الصورة -->
          <div class="form-group">
            <label for="avatarFile">Upload New Avatar:</label>
            <input id="avatarFile" type="file" class="form-control-file" (change)="onAvatarSelected($event)">
          </div>

          <button type="button" class="btn btn-success mt-3" (click)="saveChanges()">Save</button>
        </form>
      </div>

    </div>
  </div>
</div>
