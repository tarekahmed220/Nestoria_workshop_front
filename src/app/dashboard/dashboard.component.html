<div class="dashboard-content bgColor m-4 p-3 text-light">
  <h3>Today's Sales</h3>
  <p>Sales Summary</p>
  <div class="row">
    <div class="col-md-3">
      <div class="card text-white bg-dark mb-3">
        <div class="card-body">
          <h4><i class="fa fa-bar-chart color1"></i></h4>
          <h5 class="card-title">$5k</h5>
          <p class="card-text">Total Sales</p>
          <small class="color1">+10% from yesterday</small>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card text-white bg-dark mb-3">
        <div class="card-body">
          <h4><i class="fa fa-bar-chart color1"></i></h4>
          <h5 class="card-title">500</h5>
          <p class="card-text">Total Order</p>
          <small class="color2">+8% from yesterday</small>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card text-white bg-dark mb-3">
        <div class="card-body">
          <h4><i class="fa fa-bar-chart color3"></i></h4>
          <h5 class="card-title">9</h5>
          <p class="card-text">Product Sold</p>
          <small class="color3">+2% from yesterday</small>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card text-white bg-dark mb-3">
        <div class="card-body">
          <h4><i class="fa fa-bar-chart color4"></i></h4>
          <h5 class="card-title">12</h5>
          <p class="card-text">New Customer</p>
          <small class="color4">+3% from yesterday</small>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- start section tow -->
<div class="container m-4">
  <div class="row">
    <!-- عمود الرسم البياني -->
    <div class="col-md-5 bgColor p-3">
      <h3 class="text-white mb-4"><i class="fa fa-bar-chart"></i> Level</h3>
      <canvas
        baseChart
        [data]="barChartData"
        [options]="barChartOptions"
        [type]="barChartType"
      >
      </canvas>
    </div>
    <!-- عمود المنتجات -->
    <div class="col-md-6 offset-md-1 bgColor p-3">
      <h3 class="text-white mb-4"><i class="fa fa-list"></i> Top Products</h3>
      <ul class="list-group">
        <!-- @for (product of products; track $index) {} -->
        <li
          *ngFor="let product of products"
          class="list-group-item d-flex justify-content-between align-items-center bg-dark text-white"
        >
          <span>{{ product.name }}</span>
          <span class="badge" [ngStyle]="{ 'background-color': product.color }"
            >{{ product.popularity }}%</span
          >
        </li>
      </ul>
    </div>
  </div>
</div>
<!-- end section tow -->
<!-- start section three -->
<div class="container m-3 bgColor p-3">
  <div class="row d-flex align-items-stretch">
    <!-- تعديل العمود الأول لجعل الرسم البياني الصغير يأخذ نفس طول الكبير -->
    <div class="col-md-3 h-100 d-flex align-items-stretch">
      <!-- رسم بياني باستخدام ng2-charts -->
      <div style="position: relative; width: 100%; height: 100%">
        <canvas
          baseChart
          [data]="lineChartData"
          [options]="lineChartOptions"
          [type]="lineChartType"
          (mouseleave)="hideCustomTooltip()"
          style="height: 100%"
        ></canvas>

        <!-- عنصر الـ tooltip المخصص -->
        <div
          id="customTooltip"
          style="
            position: absolute;
            background-color: white;
            padding: 8px;
            border-radius: 4px;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
            display: none;
          "
        ></div>
      </div>
    </div>

    <div class="col-md-9 d-flex align-items-stretch">
      <!-- رسم بياني باستخدام ng2-charts -->
      <div style="position: relative; width: 100%; height: 100%">
        <canvas
          baseChart
          [data]="lineChartData"
          [options]="lineChartOptions"
          [type]="lineChartType"
          (mouseleave)="hideCustomTooltip()"
          style="height: 100%"
        ></canvas>

        <!-- عنصر الـ tooltip المخصص -->
        <div
          id="customTooltip"
          style="
            position: absolute;
            background-color: white;
            padding: 8px;
            border-radius: 4px;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
            display: none;
          "
        ></div>
      </div>
    </div>
  </div>
</div>

<!-- end section three -->

<!-- start section five -->
<div class="containrt">
  <div class="row">
    <div class="mt-4">
      <h2 class="text-white">Customers</h2>

      <!-- Table for displaying customers -->
      <table class="table table-dark table-hover">
        <thead>
          <tr>
            <th></th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Billing Address</th>
            <th>Total Spent</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <!-- Iterate over visible customers -->
          <tr *ngFor="let customer of visibleCustomers()">
            <!-- Placeholder for profile icon -->
            <td>
              <span
                class="badge2 rounded-circle"
                [ngStyle]="{ 'background-color': getColor(customer.name) }"
                >{{ customer.name.charAt(0) }}</span
              >
            </td>
            <td>{{ customer.name }}</td>
            <td>{{ customer.email }}</td>
            <td>{{ customer.phone }}</td>
            <td>{{ customer.address }}</td>
            <td>${{ customer.totalSpent.toFixed(2) }}</td>
            <td>
              <!-- Action buttons with FontAwesome icons -->
              <button class="btn btn-sm text-primary m-1">
                <i class="fa fa-pencil"></i>
              </button>
              <button class="btn btn-sm text-danger">
                <i class="fa fa-trash"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>

      <!-- Pagination section -->
      <nav aria-label="Customer pagination">
        <ul class="pagination justify-content-center">
          <!-- Previous button -->
          <li class="page-item" [class.disabled]="currentPage() === 1">
            <button class="page-link" (click)="changePage(currentPage() - 1)">
              Previous
            </button>
          </li>

          <!-- Display page numbers dynamically based on total pages -->
          <li
            *ngFor="let page of getPagesArray()"
            class="page-item"
            [class.active]="page === currentPage()"
          >
            <button class="page-link" (click)="changePage(page)">
              {{ page }}
            </button>
          </li>

          <!-- Next button -->
          <li
            class="page-item"
            [class.disabled]="currentPage() === totalPages()"
          >
            <button class="page-link" (click)="changePage(currentPage() + 1)">
              Next
            </button>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>
